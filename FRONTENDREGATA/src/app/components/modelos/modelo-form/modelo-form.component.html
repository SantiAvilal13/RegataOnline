<div class="modelo-form">
  <div class="header">
    <h2>{{ isEditMode() ? 'Editar Modelo' : 'Crear Nuevo Modelo' }}</h2>
  </div>

  @if (loading()) {
    <div class="loading">Cargando datos...</div>
  }

  @if (error()) {
    <div class="error">{{ error() }}</div>
  }

  <form (ngSubmit)="saveModelo()" #modeloForm="ngForm">
    <div class="form-group">
      <label for="nombre">Nombre del Modelo *</label>
      <input 
        type="text" 
        id="nombre"
        name="nombre"
        #nombre="ngModel"
        [(ngModel)]="modelo().nombre"
        required
        minlength="2"
        maxlength="50"
        class="form-control"
        placeholder="Ingresa el nombre del modelo">
      @if (nombre.invalid && nombre.touched) {
        <div class="field-error">El nombre debe tener entre 2 y 50 caracteres y no puede estar vac√≠o</div>
      }
    </div>

    <div class="form-group">
      <label for="colorHex">Color (Hex) *</label>
      <input 
        type="color" 
        id="colorHex"
        name="colorHex"
        #colorHex="ngModel"
        [(ngModel)]="modelo().colorHex"
        required
        class="form-control color-input">
      <small class="form-text">Color: {{ modelo().colorHex }}</small>
      @if (colorHex.invalid && colorHex.touched) {
        <div class="field-error">Debe seleccionar un color</div>
      }
    </div>

    <div class="form-actions">
      <button 
        type="button" 
        class="btn btn-secondary"
        (click)="modeloForm.resetForm()">
        Limpiar
      </button>
      <button 
        type="submit" 
        class="btn btn-primary"
        [disabled]="saving() || modeloForm.invalid">
        @if (saving()) {
          Guardando...
        } @else {
          {{ isEditMode() ? 'Actualizar' : 'Crear' }} Modelo
        }
      </button>
    </div>
  </form>
</div>