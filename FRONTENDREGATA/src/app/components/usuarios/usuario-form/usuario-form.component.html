<div class="usuario-form">
  <div class="header">
    <h2>Crear Nuevo Usuario</h2>
  </div>

  @if (error()) {
    <div class="error">{{ error() }}</div>
  }

  <form (ngSubmit)="saveUsuario()" #usuarioForm="ngForm">
    <div class="form-group">
      <label for="nombre">Nombre *</label>
      <input 
        type="text" 
        id="nombre"
        name="nombre"
        [(ngModel)]="usuario().nombre"
        required
        minlength="2"
        maxlength="50"
        class="form-control"
        placeholder="Ingresa el nombre del usuario">
    </div>

    <div class="form-group">
      <label for="email">Email *</label>
      <input 
        type="email" 
        id="email"
        name="email"
        [(ngModel)]="usuario().email"
        required
        class="form-control"
        placeholder="Ingresa el email del usuario">
    </div>

    <div class="form-group">
      <label for="password">Contraseña *</label>
      <input 
        type="password" 
        id="password"
        name="password"
        [(ngModel)]="usuario().password"
        required
        minlength="6"
        class="form-control"
        placeholder="Ingresa la contraseña">
    </div>

    <div class="form-group">
      <label for="rol">Rol *</label>
      <select 
        id="rol"
        name="rol"
        [(ngModel)]="usuario().rol"
        required
        class="form-control">
        <option value="">Selecciona un rol</option>
        <option value="JUGADOR">Jugador</option>
        <option value="ADMIN">Administrador</option>
      </select>
    </div>

    <div class="form-actions">
      <button 
        type="button" 
        class="btn btn-secondary"
        (click)="usuarioForm.resetForm()">
        Limpiar
      </button>
      <button 
        type="submit" 
        class="btn btn-primary"
        [disabled]="saving() || !usuario().isValid()">
        @if (saving()) {
          Guardando...
        } @else {
          Crear Usuario
        }
      </button>
    </div>
  </form>
</div>